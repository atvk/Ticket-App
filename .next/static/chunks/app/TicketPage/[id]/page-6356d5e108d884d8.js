(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[287],{8870:function(e,t,i){Promise.resolve().then(i.bind(i,4559))},4559:function(e,t,i){"use strict";var r=i(7437),n=i(6463),o=i(2265);t.default=e=>{let{ticket:t}=e,i="new"!==t._id,a=(0,n.useRouter)(),s=e=>{let t=e.target.value,i=e.target.name;p(e=>({...e,[i]:t}))},l=async e=>{if(e.preventDefault(),i){if(!(await fetch("/api/Tickets/".concat(t._id),{method:"PUT",body:JSON.stringify({formData:d}),"content-type":"application/json"})).ok)throw Error("Failed update!")}else if(!(await fetch("/api/Tickets",{method:"POST",body:JSON.stringify({formData:d}),"content-type":"application/json"})).ok)throw Error("Failed post!");a.refresh(),a.push("/")},c={title:"",description:"",priority:1,progress:0,status:"not started",category:""};i&&(c.title=t.title,c.description=t.description,c.priority=t.priority,c.progress=t.progress,c.status=t.status,c.category=t.category);let[d,p]=(0,o.useState)(c);return(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("form",{className:"flex flex-col gap-3 w-1/2",method:"post",onSubmit:l,children:[(0,r.jsx)("h3",{children:i?"Update Your Ticket":"Create Your Ticket"}),(0,r.jsx)("label",{children:"Title"}),(0,r.jsx)("input",{id:"title",name:"title",type:"text",onChange:s,required:!0,value:d.title}),(0,r.jsx)("label",{children:"Description"}),(0,r.jsx)("textarea",{id:"description",name:"description",onChange:s,required:!0,value:d.description,rows:"5"}),(0,r.jsx)("label",{children:"Category"}),(0,r.jsxs)("select",{name:"category",value:d.category,onChange:s,children:[(0,r.jsx)("option",{value:"Hard",children:"Hard"}),(0,r.jsx)("option",{value:"Soft",children:"Soft"}),(0,r.jsx)("option",{value:"Project",children:"Project"})]}),(0,r.jsx)("label",{children:"Priority"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{id:"priority 1",name:"priority",type:"radio",value:1,onChange:s,checked:1==d.priority}),(0,r.jsx)("label",{children:"1"}),(0,r.jsx)("input",{id:"priority 2",name:"priority",type:"radio",value:2,onChange:s,checked:2==d.priority}),(0,r.jsx)("label",{children:"2"}),(0,r.jsx)("input",{id:"priority 1",name:"priority",type:"radio",value:3,onChange:s,checked:3==d.priority}),(0,r.jsx)("label",{children:"3"}),(0,r.jsx)("input",{id:"priority 4",name:"priority",type:"radio",value:4,onChange:s,checked:4==d.priority}),(0,r.jsx)("label",{children:"4"}),(0,r.jsx)("input",{id:"priority 5",name:"priority",type:"radio",value:5,onChange:s,checked:5==d.priority}),(0,r.jsx)("label",{children:"5"})]}),(0,r.jsx)("label",{children:"Progress"}),(0,r.jsx)("input",{type:"range",id:"progress",name:"progress",value:d.progress,min:"0",max:"100",onChange:s}),(0,r.jsx)("label",{children:"Status"}),(0,r.jsxs)("select",{name:"status",value:d.status,onChange:s,children:[(0,r.jsx)("option",{value:"not started",children:"Not started"}),(0,r.jsx)("option",{value:"started",children:"Started"}),(0,r.jsx)("option",{value:"done",children:"Done"})]}),(0,r.jsx)("input",{type:"submit",className:"btn hover:bg-btn-hover",value:i?"Update Your Ticket":"Create Your Ticket"})]})})}},6463:function(e,t,i){"use strict";var r=i(1169);i.o(r,"useRouter")&&i.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=8870)}),_N_E=e.O()}]);